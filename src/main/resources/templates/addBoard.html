<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout=http://www.ultraq.net.nz/thymeleaf/layout
      layout:decorate="~{layouts/layout1}">

<th:block layout:fragment="script">
    <script th:inline="javascript">
        function checkOnlyOne(element){
            const checkboxes = document.getElementsByName("imgUrl");

            checkboxes.forEach((cb) => {
              cb.checked = false;
            })
            element.checked = true;
        }
    </script>
</th:block>

<div layout:fragment="content">
    <div class="py-5 text-center">
        <h2 >글 등록</h2>
    </div>

    <h4 class="mb-3">글 입력</h4>

    <form role="form" action="board.html" th:object="${board}" th:action method="post">
        <div>
            <label for="title">제목</label>
            <input type="text" class="form-control" id="title" name="title" placeholder="제목을 입력하세요" th:value="*{title}" >
            <p th:if="${#fields.hasErrors('title')}" th:errors="*{title}">Incorrect title</p>
        </div>
        <div>
            <label for="content">내용</label>
            <textarea cols="150" rows="10" id="content" name="content" class="form-control" placeholder="내용을 입력하세요." th:text="*{content}"></textarea>
            <p th:if="${#fields.hasErrors('content')}" th:errors="*{content}">Incorrect content</p>
        </div>

        <div style="text-align: center;">
            <label>
                <img src="images/kb1.jpg" style="width: 12vw; min-width: 50px;">
                <input type="checkbox" name="imgUrl" value="../images/kb1.jpg" onclick="checkOnlyOne(this)" checked>
            </label>
            <label>
                <img src="images/kb2.jpg" style="width: 12vw; min-width: 50px;">
                <input type="checkbox" name="imgUrl" value="../images/kb2.jpg" onclick="checkOnlyOne(this)">
            </label>
            <label>
                <img src="images/kb3.jpg" style="width: 12vw; min-width: 50px;">
                <input type="checkbox" name="imgUrl" value="../images/kb3.jpg" onclick="checkOnlyOne(this)">
            </label>
            <label>
                <img src="images/kb4.jpg" style="width: 12vw; min-width: 50px;">
                <input type="checkbox" name="imgUrl" value="../images/kb4.jpg" onclick="checkOnlyOne(this)">
            </label>
            <label>
                <img src="images/kb5.jpg" style="width: 12vw; min-width: 50px;">
                <input type="checkbox" name="imgUrl" value="../images/kb5.jpg" onclick="checkOnlyOne(this)">
            </label>
        </div>

        <hr class="my-4">

        <div class="row">
            <div class="col">
                <button class="w-100 btn btn-primary btn-lg" type="submit" >등록</button>
            </div>
            <div class="col">
                <button class="w-100 btn btn-secondary btn-lg"
                        onclick="location.href='boardList.html'"
                        th:onclick="|location.href='@{/}'|"
                        type="button">취소</button>
            </div>
        </div>
    </form>
</div>
</html>